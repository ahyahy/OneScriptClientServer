# OneScriptClientServer
Библиотека создания клиент-серверных приложений для сценарного языка OneScript.

### Подробнее можно узнать на этом сайте

> <https://ahyahy.github.io/OneScriptClientServer/index.html>
> 

Можно обмениваться текстовыми сообщениями, сообщениями, содержащими двоичные данные или некоторые другие базовые типы данных. В дальнейшем планирую расширить возможности библиотеки до создания клиент-серверных приложений с использованием механизма удаленного вызова методов по протоколу TCP/IP. 

Основой проекта послужила [разработка автора Halil ibrahim Kalkan](https://www.codeproject.com/Articles/155282/TCP-Server-Client-Communication-Implementation). Согласно документации на разработку (далее следует перевод) - клиенты смогут вызывать методы серверного приложения через интерфейс точно так же, как обычные вызовы методов в том же приложении. Серверное приложение также сможет вызывать клиентские методы таким же образом через интерфейс. То есть должна в итоге получиться  двусторонняя, ориентированная на подключение и асинхронная коммуникационная библиотека. После того, как клиент подключается к серверу, они смогут обмениваться данными в обоих направлениях (сервер-клиенту или клиент-серверу) асинхронно до тех пор, пока клиент или сервер не закроют соединение. Это не просто обмен запросами/ответами, как в веб-сервисах.

Надеюсь удастся научить и мою библиотеку всё это выполнять, посмотрим.

### Замеры производительности

Для замера производительности на одном и том же компьютере были запущены сервер и клиент.  
За одну секунду сервер подключил 1700 клиентов (экземпляров класса TCPКлиент(TcpClient)).  
В другом замере клиент успешно послал 15000 коротких текстовых сообщений за одну секунду.  
Размер пересылаемого сообщения ограничен 128 мегабайтами.  
Взаимодействие с такими клиентами как браузер (клиентами, не являющимися экземплярами классов TCPКлиент(TcpClient) или СерверКлиент(ServerClient)) возможно с использованием свойства КлиентСерверДляОдноСкрипта.РежимСтороннегоКлиента (OneScriptClientServer.ThirdPartyClientMode). При этом производительность снизится. Подробнее об этом с примерами смотрите в документации.

### Запуск и примеры

На компьютере должен быть установлен OneScript. Тестирование проводил для версии 1.7.0.214. Скомпилированную библиотеку можно найти в [каталоге docs](https://github.com/ahyahy/OneScriptClientServer/tree/main/docs) этого проекта с именем OneScriptClientServerх_х_х_х.zip. Создание сервера и клиента подробно приведено в примерах в разделе `Документация` сайта библиотеки <https://ahyahy.github.io/OneScriptClientServer/doc.html>.
